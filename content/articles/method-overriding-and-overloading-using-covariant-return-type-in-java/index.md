---
layout: engineering-education
status: publish
published: true
url: /method-overriding-and-overloading-using-covariant-return-type-in-java/
title: Method Overriding and Overloading using Covariant Return Type in Java
description: Using covariant return type, we can override a method in Java. As a result, the programmer is relieved of the burden of typecasting. This article will cover how to use covariant return type and its advantages in this tutorial.

author: mark-moki
date: 2021-09-16T00:00:00-15:10
topics: [Languages]
excerpt_separator: <!--more-->
images:

  - url: /engineering-education/method-overriding-and-overloading-using-covariant-return-type-in-java/hero.jpg
    alt: Method Overriding and Overloading using Covariant Return Type in Java
---
Table of content:
- [@override annotation](#override-annotation)
- [Rules regarding covariant return type](#rules-regarding-covariant-return-type)
- [Return types](#return-types)
- [Method overriding](#method-overriding)
### Introduction
In an object-oriented programming language, `return type covariance` means that a method's return type can be replaced with a narrower one when it is overridden in a subclass or child class. Instead of `overriding`, as some people believe, method `overloading` refers to the process of changing the parameters of a method. If the overriding method's return type is a subtype of the base class' return type, return types can be modified in subclass methods to override base class methods. 

### Rules regarding covariant return type
For covariant return types, there are primarily three rules to keep in mind. Following is a list of them.
1. If a subclass's overriding method returns the same type as its superclass or subclass, then the overriding method's return type should match.

2. Underlining methods in subclasses should not override methods in the parent class, and vice versa.

3. It is only possible to use the covariant return type for object types, not for primitive kinds.

To demonstrate covariant return type, let's look at how we can override a method by adjusting its return type.
```Java
//base class
class Color{
    // method getcolor returns an object of type color
    public Color getColor(){
        Color s = new Color();
        
        return s;
    }
}
//this class will inherit from the class color and will override the getcolor() method returning the object of the type red class
class Red extends Color{
    @Override
    public Red getColor(){
        Red s = new Red();
        
        return s;
    }
}
```
> It fails after swapping return types of Base and Derived in the above application.
### @override annotation
If you don't utilize the `@Override annotation`, it won't cause any problems. It also has some advantages which I have listed below:

- It makes the code easier to read.
- It simplifies the program's maintenance.
- As a result, the return types are more explicit, reducing the need for typecasting.
- To avoid ClassCastException, which indicates that an object has been attempted to be cast to subclasses of which it is not an instance, this code prevents ClassCastExceptions from occurring.

Let us now have an example based on @override annotations
```Java
class Vehicle {
    Vehicle getObject() {
        System.out.println("The Base class method.");
        return new Vehicle(); 
    }
}

class Car extends Vehicle {
    //Overriding getObject method.
    @Override
    Car getObject() {
        System.out.println("Derived class method from Base class.");
        return new Car(); .
    }
}

public class Main {
    public static void main(String[] args) {
        Car lexus = new Car(); 
        lexus.getObject(); 
    }
}

```
**OUTPUT**
```
Derived class method from Base class.
```
> Because classes are non-primitive return types, covariant types are only conceivable and by so you should note this.

### Advantages of Covariant Return Type
1. Making the code more accessible, legible, and manageable is made easier using a covariant return type.

2. As a result of the covariant return type, the method overriding might have more specific return types.

3. ClassCastExceptions on returns can be prevented by using a covariant return type at runtime.

### Return types
The `Java Virtual Machine` (JVM) has always supported overloading based on the return type. As the JVM uses the whole signature of a method for its lookup or resolution, this is permissible in JVM. Multiple methods of the same type may exist in the same class. Covariant return types are supported and implemented by the java compiler (javac).

On the other hand, you can use the Java class file disassembler Javap to verify the code. Javac's usage of this approach allows us to use the covariant return type in Java. To support covariant return types, the JVM does not require any changes.
#### Disassembled Red class code
This code was generated by javac based on previous examples of Color and Red classes.
```
class Red extends Color {
  Red();
  public Red getColor();
  public Color getColor();
}
```
### Method overriding
This means that when a superclass method (an overridden method) says it can throw an exception, then any overrides must declare that they can throw the same type of exception or a subtype of that exception.

Overriding a method with an exception will require you to follow these three crucial guidelines while using Java. These are the names of them:
1. Overridden methods can't throw checked or compile-time exceptions or unchecked or runtime exceptions if the overriding method doesn't use the throws clause.

2. Overridden methods that throw unchecked or runtime exceptions can throw any unchecked or runtime exception, or the same exception as the overridden method.

3. Exceptions thrown by superclass methods can be subclassed by subclass methods, but superclass exceptions cannot be subclassed by subclass methods, and subclass methods can throw any unchecked or run-time exception.
### Conclusion
Knowing that we can override a method in Java by declaring it as a child class or derived class, it has to have a name that is the same as the parent class or base class with the same amount of parameters. As a result of this, the overriding method is said to be "invariant" in terms of the return type.

